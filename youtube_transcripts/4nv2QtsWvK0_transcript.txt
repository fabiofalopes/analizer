Ok Neste vÃ­deo vamos continuar desenvolver o controlador dar condicionado e vamos comeÃ§ar a preocupar-nos com o estado o que que Ã© o estado Ã© basicamente a ideia de que isto isto neste momento estÃ¡ fixo mas nÃ³s queremos que seja dinÃ¢mico e portanto Digamos que temos que transformar isto numa variÃ¡vel alteramos isto uma variÃ¡vel essa variÃ¡vel constitui o estado da aplicaÃ§Ã£o o estado Ã© algo que vai mudando ao longo da aplicaÃ§Ã£o em reaÃ§Ã£o uma sÃ©rie de coisas como seja aplicar em botÃµes receber mensagens do Servidor etc tudo isso vai mudando do estado da aplicaÃ§Ã£o e a interface grÃ¡fica tem que refletir esse estado o mais rapidamente possÃ­vel portanto eu estou Ã  espera que quando carrego aqui no menos ou no mais que isso comece por mudar uma variÃ¡vel que tem o valor de temperatura e depois isso seja refletido na interface grÃ¡fica com um novo valor EntÃ£o vamos comeÃ§ar por criar aqui Vamos entÃ£o criar aqui uma variÃ¡vel temperatura que vai comeÃ§ar por ter o valor 25 Ok e aqui vamos passar a usar essa variÃ¡vel Vamos aumentar e diminuir essa variÃ¡vel consoante ele carregou no momento eu vou fazer agora isto de uma forma que talvez nÃ£o seja a mais correta mas para ser simples que Ã© vou usar esta lebel para decidir se carregar no botÃ£o menos ou no botÃ£o mais isso nÃ£o Ã© necessariamente o mais correto porque estou a depender de uma coisa que Ã© da interface grÃ¡fica este menos este mais Ã© uma coisa que tem a ver com interface grÃ¡fica ser o mais tarde mudar o menos e o mais por exemplo para um Ã­cone com menos e um Ã­cone com mais isso vai deixar de funcionar mas agora para o efeito Ã© a forma mais simples dizem de ficar isto e portanto eu vou basicamente criar aqui um Case menos entÃ£o eu vou chegar a temperatura e fazer menos menos e cÃ£es mais vou fazer o inverso para vermos o que Ã© que tÃ¡ a acontecer vou tambÃ©m acrescentar aqui a e a temperatura Ok temos aqui a mesma a temperatura a 25 e agora vou carregar mais e reparem o que Ã© que estÃ¡ a acontecer a temperatura nÃ£o muda aqui mas ele tÃ¡-me a dizer que a temperatura passou a 28 A 29 Portanto ele estÃ¡ a afetar esta Varela corretamente mas a interface grÃ¡fica nÃ£o estÃ¡ a receita disso Ou seja eu estou a mudar o estado da minha aplicaÃ§Ã£o corretamente mas interface grÃ¡fica nÃ£o reflete isso porque Ã© que nÃ£o reflete isso vamos por aqui um tiver print no build e vamos ver se subiu volta a ser chamado quando nÃ³s fazemos aquele mais porque ele terÃ¡ que ser ele terÃ¡ que adivinhar aqueles vÃ­deos vou desenhar Ok vamos arrancar isto novamente ele atÃ© da primeira vez atÃ© venha 2 vezes o ecrÃ£ Isto Ã© o prÃ³prio flater pode decidir no rankinhar vÃ¡rias vezes mas agora reparem que eu farto-me carregar aqui ele nunca mais desenhinho EntÃ£o como Ã© que eu forÃ§o a desenhar aqui temos que voltar aqui aos slides para explicar uma coisa o flutter tem dois tipos de widget nÃ³s atÃ© agora usamos o state da suÃ­te que deve ser usado quando o widget nÃ£o tem estado e sÃ³ Ã© desenhado uma vez da primeira vez quando arrancamos a aplicaÃ§Ã£o ele Ã© desenhado Mas se nÃ³s queremos comida que seja redesenhado quando o estado muda Ã© o que a gente quer e queremos que ele tenha Estado entÃ£o devemos passar usar um statefall widget EntÃ£o vamos voltar aqui e vamos muito facilmente converter reparem este controlador apps neste momento Ã© um site lÃ¡ de switch e nÃ³s podemos ir aqui a lÃ¢mpada e dizer converte o statefalite basta isto ele inclusivamente mantÃ©m aqui este estado aqui ok e tudo igual e portanto agora supostamente isto JÃ¡ devia funcionar vamos correr isto novamente Ok Ele diz que vai desenhar o ecrÃ£ mas infelizmente ele parece ter o mesmo comportamento porque Ã© que eu mudando de teclas suite bastante ele nÃ£o tem o mesmo comportamento Porque nÃ£o basta mudar bastante Ã© preciso indicar ao prÃ³prio statefaluÃ­dos que ele custado foi modificado ele nÃ£o consegue perceber que aqui neste momento nÃ³s estamos a modificar o estado do widget EntÃ£o como Ã© que nÃ³s indicamos como Ã© que nÃ³s avisamos Se quisermos que ele tem que redesenhar-se porque mudei o estado vamos rodear o nosso cÃ³digo que muda o estado dentro de um certo Ã© uma funÃ§Ã£o eu vou tirar isto aqui assim Ã© uma funÃ§Ã£o que aquilo que eu colocar aqui dentro neste caso vai ser isto temperatura menos menos O que significa Ã© o que eu colocar aqui dentro ele vai ser corrido de forma a reduzir o ecrÃ£ ou seja ele corre isto que aqui estÃ¡ e a seguir modificou o estado desenha o ecrÃ£ vou sÃ³ colocar no menos para vermos o efeito disto sÃ³ um momentos ok reparem que eu ao fazer um outro Hello dele refrescou o ecrÃ£ fez vou desenhar o ecrÃ£ e portanto foi buscar o valor que jÃ¡ lÃ¡ estava que era o 29 que a gente tinha vindo a atualizar o estado mas ele nÃ£o tinha ainda receitido na interface grÃ¡fica agora refletiu e agora se eu fizer mais mantÃ©m-se o problema mas se eu fizer menos reparem o que aconteceu tÃ£o a ver ou seja eu agora fiz mais ele passou 28 fiz mais passou 29 passou 30 e agora vou fazer menos ele mostrou ali o 29 portanto baixo vou ter os dois botÃµes a funcionar e a retinharem no ecrÃ£ notem que ele disse no menos ele diz NÃ£o Ã© querendo mais nÃ£o Ã© entÃ£o jÃ¡ funciona jÃ¡ funciona portanto resumo da coisa quando nÃ³s queremos que nossa aplicaÃ§Ã£o pia passa a ter estado e que esse estado modifique o ecrÃ£ quando Ã© modificado EntÃ£o temos que comeÃ§ar por converter o nosso no statefluidget foi o que eu fiz aqui e ele queria aqui uma data de coisas nomeadamente criar aqui um uma classe state que nÃ£o existia antes mas este build Ã© muito parecido com o que existe antes e sempre que eu quiser modificar o estado desse widget eu tenho que fazer dentro de um 7 nÃ£o se esquecer isso
